{
  "version": 2,
  "buildCommand": "npx vite build && npx esbuild api/[...path].ts --bundle --platform=node --format=esm --outfile=api/index.mjs --packages=external",
  "outputDirectory": "dist/public",
  "functions": {
    "api/index.mjs": {
      "maxDuration": 60,
      "memory": 1024,
      "regions": ["bom1"]
    }
  },
  "rewrites": [
    { "source": "/api/:path*", "destination": "/api/index.mjs" },
    { "source": "/(.*)", "destination": "/index.html" }
  ]
}